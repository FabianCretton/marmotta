<!--

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements. See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership. The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<html>
<head>
    <!--###BEGIN_HEAD###-->
    <title>About Data View</title>
    <!--###END_HEAD###-->
</head>
<body>
<!--###BEGIN_CONTENT###-->
<h1><a id="Introduction"></a>Data View - OverLOD Surfer<a class="section_anchor" href="#Introduction"></a></h1>

<p>
    Data Views are predefined queries (SPARQL), designed by administrators, that will allow developers to request data in common formats (JSON, CSV, etc.) without the need to understand the underlying RDF format and ontologies.
<p>
	Developpers can get the results by doing a GET on the /dataView web service:
	<pre>GET /dataView?viewName=&lt;viewName&gt;&amp;format=application/sparql-results+json</pre>
	See the Webservice page for more details.
<p>
	<span style="text-decoration: underline;"><b>Queries with parameters</b></span>
	<BR>
	A very basic mechanism has been chosen to allow a client to pass parameters to the underlying query when requesting a dataView :
	<ul>
	<li>When saving the dataView: after testing a query, replace a specific value by an identifying string starting with the "p_" prefix, for instance if you want to pass a 'year' value as parameter:
	<br>replace <pre>?s onto:year 2010</pre> by <pre>?s onto:year p_year</pre>
	This edited query can't be run, but can be saved.
	</li>
	<li>When calling the dataView web service: pass the value in the query string, using that identifying string as the parameter name.</li>
	</ul>
	HTTP call example: 
	<pre>&nbsp;&nbsp;&nbsp;http://myMarmotta/dataView?viewName=aDataViewWithYearParameter&p_year=2002</pre>
	Javascript example using the DataViewClient, and including a "p_areaURI" URL parameter:  
	<pre>&nbsp;&nbsp;&nbsp;var queryParams = {p_areaURI:encodeURIComponent("http://dbpedia.org/resource/Geneva"), p_year:"2002"};<BR>&nbsp;&nbsp;&nbsp;dataViewClient.getDataView('aDataViewWithAreaAndYearParameters', queryParams,"text/csv", success, failure) ;</pre>
<p>
	This module is developed by the HES-SO Valais-Wallis, <a href="http://www.hevs.ch/fr/rad-instituts/institut-informatique-de-gestion/">Institut Informatique de Gestion</a> in Switzerland, as part of the OverLOD Surfer project.
	
</p>

<!--###END_CONTENT###-->
</body>
</html>
